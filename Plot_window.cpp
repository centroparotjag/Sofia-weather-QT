#include "plot_window.h"
#include "ui_plot_window.h"
#include "mainwindow.h"


//extern int count_data;
//extern double weather_data[100][5];



plot_window::plot_window(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::plot_window)
{
    ui->setupUi(this);

    ui->temp->addGraph();
    ui->temp->xAxis->setLabel("Time");
    ui->temp->xAxis->setRange(0, 60);
    ui->temp->yAxis->setLabel("Temperature");
    ui->temp->yAxis->setRange(-30, +50);

    ui->elevWind->addGraph();
    ui->elevWind->xAxis->setLabel("Time");
    ui->elevWind->xAxis->setRange(0, 60);
    ui->elevWind->yAxis->setLabel("Elevation");
    ui->elevWind->yAxis->setRange(0, 360);


    double weather_data[100][5] = { { 11.5, 1000, 50, 1.1, 0  },
                                    { 12.5, 1001, 55, 2.1, 10 },
                                    { 13.5, 1002, 60, 3.1, 20 },
                                    { 14.5, 1003, 75, 5.1, 30 },
                                    { 15.5, 1004, 90, 7.1, 40 },
                                    { 16.5, 1005, 84, 10.1, 50 },
                                    { 17.5, 1006, 77, 15.1, 60 },
                                    { 18.5, 1003, 68, 14.1, 70 },
                                    { 19.5, 1001, 54, 10.1, 80 },
                                    { 20.5, 998,  45, 9.1, 90 },
                                    { 19.5, 996,  33, 5.1, 100 },
                                    { 17.5, 994,  28, 3.1, 110 },
                                    { 13.5, 996,  30, 1.1, 120 },
                                    { 12.5, 997,  32, 0.5, 130 },
                                    { 12.3, 998,  34, 0.1, 140 },
                                    { 12.2, 998,  38, 0.0, 150 },
                                    { 12.1, 1002, 40, 0.2, 160 },
                                    { 12.0, 1004, 42, 0.4, 170 },
                                    { 11.8, 1003, 45, 0.6, 180 },
                                    { 11.7, 1001, 49, 0.8, 180 },
                                    { 11.5, 1000, 50, 1.1, 190 },
                                    { 8.5, 1001, 55, 2.1, 200 },
                                    { 7.5, 1002, 60, 3.1, 210 },
                                    { 6.5, 1003, 75, 5.1, 220 },
                                    { 5.5, 1004, 90, 7.1, 230 },
                                    { 4.5, 1005, 84, 10.1, 240 },
                                    { 0.5, 1006, 77, 15.1, 250 },
                                    { -18.5, 1003, 68, 14.1, 260 },
                                    { -19.5, 1001, 54, 10.1, 270 },
                                    { -20.5, 998,  45, 9.1, 280 },
                                    { -19.5, 996,  33, 5.1, 290 },
                                    { -17.5, 994,  28, 3.1, 300 },
                                    { -13.5, 996,  30, 1.1, 310 },
                                    { -12.5, 997,  32, 0.5, 320 },
                                    { -12.3, 998,  34, 0.1, 330 },
                                    { -12.2, 998,  38, 0.0, 340 },
                                    { -12.1, 1002, 40, 0.2, 350 },
                                    { 12.0, 1004, 42, 0.4, 360 },
                                    { 11.8, 1003, 45, 0.6, 370 },
                                    { 11.7, 1001, 49, 0.8, 380 },
                                    { 11.5, 1000, 50, 1.1, 0 },
                                    { 12.5, 1001, 55, 2.1, 10 },
                                    { 13.5, 1002, 60, 3.1, 20 },
                                    { 14.5, 1003, 75, 5.1, 30 },
                                    { 15.5, 1004, 90, 7.1, 40 },
                                    { 16.5, 1005, 84, 10.1, 50 },
                                    { 17.5, 1006, 77, 15.1, 60 },
                                    { 18.5, 1003, 68, 14.1, 70 },
                                    { 19.5, 1001, 54, 10.1, 80 },
                                    { 20.5, 998,  45, 9.1, 90 },
                                    { 19.5, 996,  33, 5.1, 100 },
                                    { 17.5, 994,  28, 3.1, 110 },
                                    { 13.5, 996,  30, 1.1, 120 },
                                    { 12.5, 997,  32, 0.5, 130 },
                                    { 12.3, 998,  34, 0.1, 140 },
                                    { 12.2, 998,  38, 0.0, 150 },
                                    { 12.1, 1002, 40, 0.2, 160 },
                                    { 12.0, 1004, 42, 0.4, 170 },
                                    { 11.8, 1003, 45, 0.6, 180 },
                                    { 11.7, 1001, 49, 0.8, 180 },
                                    { 11.5, 1000, 50, 1.1, 190 },
                                    { 12.5, 1001, 55, 2.1, 200 },
                                    { 13.5, 1002, 60, 3.1, 210 },
                                    { 14.5, 1003, 75, 5.1, 220 },
                                    { 15.5, 1004, 90, 7.1, 230 },
                                    { 16.5, 1005, 84, 10.1, 240 },
                                    { 17.5, 1006, 77, 15.1, 250 },
                                    { 18.5, 1003, 68, 14.1, 260 },
                                    { 19.5, 1001, 54, 10.1, 270 },
                                    { 20.5, 998,  45, 9.1, 280 },
                                    { 19.5, 996,  33, 5.1, 290 },
                                    { 17.5, 994,  28, 3.1, 300 },
                                    { 13.5, 996,  30, 1.1, 310 },
                                    { 12.5, 997,  32, 0.5, 320 },
                                    { 12.3, 998,  34, 0.1, 330 },
                                    { 12.2, 998,  38, 0.0, 340 },
                                    { 12.1, 1002, 40, 0.2, 350 },
                                    { 12.0, 1004, 42, 0.4, 360 },
                                    { 11.8, 1003, 45, 0.6, 370 },
                                    { 11.7, 1001, 49, 0.8, 380 },
                                    { 11.5, 1000, 50, 1.1, 190 },
                                    { 12.5, 1001, 55, 2.1, 200 },
                                    { 13.5, 1002, 60, 3.1, 210 },
                                    { 14.5, 1003, 75, 5.1, 220 },
                                    { 15.5, 1004, 90, 7.1, 230 },
                                    { 16.5, 1005, 84, 10.1, 240 },
                                    { 17.5, 1006, 77, 15.1, 250 },
                                    { 18.5, 1003, 68, 14.1, 260 },
                                    { 19.5, 1001, 54, 10.1, 270 },
                                    { 20.5, 998,  45, 9.1, 280 },
                                    { 19.5, 996,  33, 5.1, 290 },
                                    { 17.5, 994,  28, 3.1, 300 },
                                    { 13.5, 996,  30, 1.1, 310 },
                                    { 12.5, 997,  32, 0.5, 320 },
                                    { 12.3, 998,  34, 0.1, 330 },
                                    { 12.2, 998,  38, 0.0, 340 },
                                    { 12.1, 1002, 40, 0.2, 350 },
                                    { 12.0, 1004, 42, 0.4, 360 },
                                    { 11.8, 1003, 45, 0.6, 310 },
                                    { 11.7, 1001, 49, 0.8, 180 }        };




    for (int i=0; i < 100 ; i++) {
        ui->temp->graph(0)->addData( i, weather_data [i][0]);
        ui->temp->replot();
        ui->elevWind->graph(0)->addData( i, weather_data [i][4]);
        ui->elevWind->replot();
    }




}

plot_window::~plot_window()
{
    delete ui;
}


